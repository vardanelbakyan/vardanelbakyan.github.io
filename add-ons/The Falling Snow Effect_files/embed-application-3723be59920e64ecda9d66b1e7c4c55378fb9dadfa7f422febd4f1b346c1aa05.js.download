!function(){function e(e){parent&&parent.postMessage(e,n)}function t(t){var n=t.target.getAttribute("data-link-to-post");if(n){var r=document.getElementById("post-"+n);if(r){var o=r.getBoundingClientRect();if(o&&o.top)return e({type:"discourse-scroll",top:o.top}),t.preventDefault(),!1}}}var n=document.getElementById("data-embedded").dataset.referer;window.onload=function(){var n=document.querySelector("header"),r="unknown";n&&(r=n.getAttribute("data-embed-state")),e({type:"discourse-resize",height:document.body.offsetHeight,state:r});var o,a=document.querySelectorAll("a[data-link-to-post]");for(o=0;o<a.length;o++)a[o].onclick=t;var d=document.querySelectorAll(".cooked a");for(o=0;o<d.length;o++)d[o].target="_blank";var l=document.querySelectorAll(".username a");for(o=0;o<l.length;o++){var u=l[o].innerHTML;u&&(l[o].innerHTML=new BreakString(u).break())}}}();