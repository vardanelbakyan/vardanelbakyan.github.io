<!DOCTYPE html>
<!-- saved from url=(0056)https://www.kirupa.com/html5/the_falling_snow_effect.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link rel="shortcut icon" href="https://www.kirupa.com/favicon_new.png">
<link rel="apple-touch-icon" href="https://www.kirupa.com/favicon_ios.png">
<link rel="alternate" type="application/rss+xml" title="kirupa.com Updates" href="https://www.kirupa.com/modular/kirupa.xml">

<meta property="og:site_name" content="kirupa.com">
<meta property="fb:admins" content="700218">
<meta property="og:type" content="article">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0099fe">
<link rel="manifest" href="https://www.kirupa.com/manifest.json">
<meta content="falling, snow, cloning, html, animation" name="keywords">
<meta content="Easily add some sweet falling snow to your page and learn all about how this effect works." name="description">
<meta content="The Falling Snow Effect" name="title">
<title>The Falling Snow Effect<script type="text/javascript" async="" src="./The Falling Snow Effect_files/embed.js.download"></script></title>
<meta name="author" content="Kirupa Chinnathambi">
<link href="./The Falling Snow Effect_files/kirupa_html5.css" rel="stylesheet" type="text/css">
<meta property="og:title" content="The Falling Snow Effect">
<meta property="og:url" content="https://www.kirupa.com/html5/the_falling_snow_effect.htm">
<meta property="og:image" content="https://www.kirupa.com/images/s/4.png">
<meta property="og:description" content="Easily add some sweet falling snow to your page and learn all about how this effect works.">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kirupa">
<meta name="twitter:creator" content="@kirupa">
<meta name="twitter:title" content="The Falling Snow Effect">
<meta name="twitter:description" content="Easily add some sweet falling snow to your page and learn all about how this effect works.">
<meta name="twitter:image:src" content="https://www.kirupa.com/images/s/4.png">
</head>
<body>
<div id="navigationSlider" class="hidden">
<ul id="mobileNavItems">
<li><a id="animationMobileLink" href="https://www.kirupa.com/learn/index.htm">Learn</a></li>

<li><a id="bookMobileLink" href="https://www.kirupa.com/book/index.htm">Books</a></li>
<li><a id="forumMobileLink" href="http://forum.kirupa.com/">Forums</a></li>
<li></li>
</ul>
</div>
<div id="miniHeader" class="miniHidden">
<div id="miniHeaderContent">
<div id="miniLogo"> <a href="https://www.kirupa.com/"><img alt="The KIRUPA logo!" src="./The Falling Snow Effect_files/orange_logo.svg"></a>
</div>
<div id="miniShare">
<div class="addthis_sharing_toolbox"></div>
</div>
<div id="miniHelp">
<a href="http://forum.kirupa.com/">GET HELP</a>
</div>
</div>
</div>
<div id="mobileHeader">
<ul>
<li>
<a href="https://www.kirupa.com/">
<img id="mobileLogo" alt="kirupa.com logo!" src="./The Falling Snow Effect_files/orange_logo_svg.svg">
</a>
</li>
<li>
<img id="navMobile" alt="kirupa.com logo!" src="./The Falling Snow Effect_files/nav_rows.svg" width="24">
</li>
</ul>
</div>
<div id="headerContainer">
<div id="headerContent">
<ul>
<li><a href="https://www.kirupa.com/"><img src="./The Falling Snow Effect_files/orange_logo_svg.svg" alt="KIRUPA logo"></a></li>
<li id="searchLink" class="mainItems firstItem"><a href="http://forum.kirupa.com/"><img width="16" src="./The Falling Snow Effect_files/help.svg" alt=""></a></li>
<li id="tutorialsLink" class="mainItems textItem"><a href="https://www.kirupa.com/learn/index.htm">LEARN</a></li>
<li id="bookLink" class="mainItems textItem"><a href="https://www.kirupa.com/book/index.htm">BOOKS</a></li>
<li id="forumLink" class="mainItems textItem"><a href="http://forum.kirupa.com/">FORUM</a></li>
<li class="mainItems headerIcon"><a href="https://www.facebook.com/kirupa" target="_blank"><img src="./The Falling Snow Effect_files/fb_svg.svg" alt=""></a></li>
<li class="mainItems headerIcon"><a href="https://www.twitter.com/kirupa"><img src="./The Falling Snow Effect_files/twitter_svg.svg" alt=""></a></li>
<li id="searchArea">
<form action="https://www.kirupa.com/searchresults.htm" method="get" style="margin-bottom: 0px">
<input id="sbi" class="inputTextStyle" name="q" size="20" role="textbox" aria-autocomplete="list" aria-haspopup="true" type="text">
<button id="searchButton" type="submit">GO</button>
</form>
</li>
</ul>
</div>
</div>
<div id="mainBody">
<div id="mainContent">
<div id="tutorialInformation">
<div class="authorImage">
<a href="https://www.kirupa.com/me/index.htm">
<img alt="Look, it&#39;s a kirupa!!!" src="./The Falling Snow Effect_files/kirupa_me.webp"></a></div>
<div class="authorText">
<h1>The Falling Snow Effect</h1>
<p class="tutorialInfo">by <a href="https://www.kirupa.com/me/index.htm">kirupa</a>&nbsp;&nbsp;
|&nbsp;&nbsp; filed under&nbsp;<a href="https://www.kirupa.com/html5/learn_animation.htm">Web Animation</a></p>
</div>
</div>
<div id="tutorialBox">
</div>
<p>For most of my life, I grew up in parts of the world where you never
really had snow. That wasn't fun. During Christmas, the images of
wintery goodness you grew up expecting and the sunny and warm weather outside your window
never made sense. To make up for the lack of snow in my real world, I simulated
falling snow on my computer. It was one of the first animations I
created using ActionScript in Flash many years ago, and below is a
variation of the original effect running in sweet HTML, CSS, and
JavaScript:</p>
<p class="centerImageNoBorder">
<iframe id="I2" border="0" frameborder="0" name="I2" src="./The Falling Snow Effect_files/falling_snow2.html" style="width: 650px; height: 500px;" marginheight="0" marginwidth="0" class="centerImage">Your browser does not support inline frames or is currently configured not to display inline frames.
			</iframe></p>
<p>What you should see are snowflakes slowly zigging and zagging as they
fall from the virtual sky. In this article, you will learn two things.
You will first learn how to quickly add this effect to your own content.
Second, if you are interested in learning how this effect works, I
provide a high-level deconstruction of all the markup and code that goes into
making this effect work.</p>
<p>Onwards!</p>
<h2>Adding This Effect</h2>
<p>To add some falling snow to your own HTML document, you just have to copy and paste some stuff.<code> </code>Towards the bottom of your page (probably just above the closing <span class="inlineCode">&lt;/body&gt;</span> tag), add all of the following:</p>
<pre class=" language-js"><code class=" language-js"><span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
  #snowflakeContainer <span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    left<span class="token punctuation">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
    top<span class="token punctuation">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
    display<span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span>snowflake <span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token punctuation">:</span> #<span class="token constant">CCC</span><span class="token punctuation">;</span>
    user<span class="token operator">-</span>select<span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    z<span class="token operator">-</span>index<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    pointer<span class="token operator">-</span>events<span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
    width<span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
    height<span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"snowflakeContainer"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"snowflake"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// Array to store our Snowflake objects</span>
  <span class="token keyword">var</span> snowflakes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// Global variables to store our browser's window size</span>
  <span class="token keyword">var</span> browserWidth<span class="token punctuation">;</span>
  <span class="token keyword">var</span> browserHeight<span class="token punctuation">;</span>

  <span class="token comment">// Specify the number of snowflakes you want visible</span>
  <span class="token keyword">var</span> numberOfSnowflakes <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>

  <span class="token comment">// Flag to reset the position of the snowflakes</span>
  <span class="token keyword">var</span> resetPosition <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token comment">// Handle accessibility</span>
  <span class="token keyword">var</span> enableAnimations <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> reduceMotionQuery <span class="token operator">=</span> <span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">"(prefers-reduced-motion)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Handle animation accessibility preferences </span>
  <span class="token keyword">function</span> <span class="token function">setAccessibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reduceMotionQuery<span class="token punctuation">.</span>matches<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      enableAnimations <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
      enableAnimations <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">setAccessibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  reduceMotionQuery<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>setAccessibilityState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//</span>
  <span class="token comment">// It all starts here...</span>
  <span class="token comment">//</span>
  <span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>enableAnimations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"DOMContentLoaded"</span><span class="token punctuation">,</span> generateSnowflakes<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> setResetFlag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//</span>
  <span class="token comment">// Constructor for our Snowflake object</span>
  <span class="token comment">//</span>
  <span class="token keyword">function</span> <span class="token function">Snowflake</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> xPos<span class="token punctuation">,</span> yPos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// set initial snowflake properties</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> element<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>xPos <span class="token operator">=</span> xPos<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>yPos <span class="token operator">=</span> yPos<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scale <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// declare variables used for snowflake's motion</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.5</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// setting an initial opacity and size for our snowflake</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">.1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//</span>
  <span class="token comment">// The function responsible for actually moving our snowflake</span>
  <span class="token comment">//</span>
  Snowflake<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// using some trigonometry to determine our x and y position</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>counter <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">/</span> <span class="token number">5000</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>xPos <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>yPos <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">40</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">/</span> <span class="token number">30</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scale <span class="token operator">=</span> <span class="token number">.5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// setting our snowflake's position</span>
    <span class="token function">setTransform</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>xPos<span class="token punctuation">)</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>yPos<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scale<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// if snowflake goes below the browser window, move it back to the top</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>yPos <span class="token operator">&gt;</span> browserHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>yPos <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//</span>
  <span class="token comment">// A performant way to set your snowflake's position and size</span>
  <span class="token comment">//</span>
  <span class="token keyword">function</span> <span class="token function">setTransform</span><span class="token punctuation">(</span>xPos<span class="token punctuation">,</span> yPos<span class="token punctuation">,</span> scale<span class="token punctuation">,</span> el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token string">`translate3d(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>xPos<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>yPos<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, 0) scale(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//</span>
  <span class="token comment">// The function responsible for creating the snowflake</span>
  <span class="token comment">//</span>
  <span class="token keyword">function</span> <span class="token function">generateSnowflakes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// get our snowflake element from the DOM and store it</span>
    <span class="token keyword">var</span> originalSnowflake <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".snowflake"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// access our snowflake element's parent container</span>
    <span class="token keyword">var</span> snowflakeContainer <span class="token operator">=</span> originalSnowflake<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
    snowflakeContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>

    <span class="token comment">// get our browser's size</span>
    browserWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
    browserHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

    <span class="token comment">// create each individual snowflake</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numberOfSnowflakes<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token comment">// clone our original snowflake and add it to snowflakeContainer</span>
      <span class="token keyword">var</span> snowflakeClone <span class="token operator">=</span> originalSnowflake<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      snowflakeContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>snowflakeClone<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// set our snowflake's initial position and related properties</span>
      <span class="token keyword">var</span> initialXPos <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> browserWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> initialYPos <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> browserHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> speed <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">;</span>

      <span class="token comment">// create our Snowflake object</span>
      <span class="token keyword">var</span> snowflakeObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Snowflake</span><span class="token punctuation">(</span>snowflakeClone<span class="token punctuation">,</span>
        speed<span class="token punctuation">,</span>
        initialXPos<span class="token punctuation">,</span>
        initialYPos<span class="token punctuation">)</span><span class="token punctuation">;</span>
      snowflakes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>snowflakeObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// remove the original snowflake because we no longer need it visible</span>
    snowflakeContainer<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>originalSnowflake<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">moveSnowflakes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//</span>
  <span class="token comment">// Responsible for moving each snowflake by calling its update function</span>
  <span class="token comment">//</span>
  <span class="token keyword">function</span> <span class="token function">moveSnowflakes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>enableAnimations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snowflakes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> snowflake <span class="token operator">=</span> snowflakes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        snowflake<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>      
    <span class="token punctuation">}</span>

    <span class="token comment">// Reset the position of all the snowflakes to a new value</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>resetPosition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      browserWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
      browserHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snowflakes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> snowflake <span class="token operator">=</span> snowflakes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

        snowflake<span class="token punctuation">.</span>xPos <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> browserWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        snowflake<span class="token punctuation">.</span>yPos <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> browserHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      resetPosition <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>moveSnowflakes<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//</span>
  <span class="token comment">// This function returns a number between (maximum - offset) and (maximum + offset)</span>
  <span class="token comment">//</span>
  <span class="token keyword">function</span> <span class="token function">getPosition</span><span class="token punctuation">(</span>offset<span class="token punctuation">,</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">*</span> offset <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>size <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> offset<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//</span>
  <span class="token comment">// Trigger a reset of all the snowflakes' positions</span>
  <span class="token comment">//</span>
  <span class="token keyword">function</span> <span class="token function">setResetFlag</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    resetPosition <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></code></pre>
<p> What you just pasted contains everything you would need to generate our snowflakes and cause them to animate and fall to the ground.</p>
<p>Once you've added all of this HTML, CSS, and JavaScript, preview in
your browser to make sure everything works as expected. If for whatever reason
things aren't working properly, take a look at the source in the <a class="blueEmphasis" href="https://www.kirupa.com/html5/examples/falling_snow2.htm">
example page</a> and see how I have everything setup. If you still have
questions, quickly post on the <a href="https://forum.kirupa.com/" class="blueEmphasis">forums</a> and I or somebody else will help
you out.</p>
<p>Out of the box, the animation may be perfect for your needs. If you want to make some changes to it, there are two customizations that you can make easily. The first is changing the color of the snowflake. The color of our snowflake is defined inside the <strong>.snowflake</strong> class in our CSS:</p>
<pre class="line-numbers language-css" data-line="3"><code class=" language-css"><span class="token selector">.snowflake</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #CCC<span class="token punctuation">;</span>
  <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1000<span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code><div aria-hidden="true" data-range="3" class=" line-highlight" style="top: 56px; height: 28px;"></div></pre>
<p>Change the <span class="inlineCode">background-color</span> property to whatever color you want your snowflake to be. In our example, I have it set to <strong>#FFFFFF</strong> (white) because the background is darker. If you are going to be using this effect on a lighter colored background, you should adjust the snowflake color accordingly.</p>
<p>The second customization you can make revolves around the number of snowflakes that make up this effect. The more snowflakes you have, the more of a wintery storm feeling your page will have. The fewer snowflakes you have, well...that will just look weak! To adjust the number of snowflakes, find the <span class="inlineCode">numberOfSnowflakes</span> variable in our JavaScript:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">var</span> numberOfSnowflakes <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></code></pre>
<p>It is set to 50 currently. Replace it to a higher or lower number depending on the sort of effect you are looking for. One thing to keep in mind is performance. The more snowflakes you add, the more sluggish your page will be on older hardware. Don't let that warning deter you, though. If your audience will tend to be on more powerful hardware (both mobile and desktop), then you should feel free to go crazy!</p>
<p>And with that, you are done with having a simple way to get snow all over your
HTML content. <strong>If that's all you came here for, you are free to go and
enjoy the rest of the day...or night. </strong>Now, I do recommend you take some time and learn how this effect
works. Besides giving you some great things to talk about during dinner
with friends and/or family, learning how this effect works will help you further your web animation-fu. One can never have too much web animation-fu!</p>
<h2>Overview of How this Effect Works</h2>
<p>The way this effect works is pretty simple...sort of. You have many snowflakes
(aka our elements), and each element's position
and size is changed slightly many MANY times each second. This change is what results in the animation we ultimately see. The starting point for all this is found in our HTML where have a single snowflake element defined. It's a circle in our case, but for illustration purposes I'll use the following snowflake-looking shape instead:</p>
<p class="centerImageNoBorder"><img src="./The Falling Snow Effect_files/snowflake_300.webp" width="400" height="200" alt=""></p>
<p>Using code, that single snowflake is cloned a bunch of
times (as determined by what our <span class="inlineCode">numberOfSnowflakes</span> variable says):</p>
<p class="centerImageNoBorder"><img src="./The Falling Snow Effect_files/many_snowflakes_300.webp" width="652" height="250" alt=""></p>
<p>As part of cloning our snowflakes, we make some minor changes to their
appearance so that they all look a little bit different from each other:</p>
<p class="centerImageNoBorder"><img src="./The Falling Snow Effect_files/snowflakes_different_300.webp" width="575" height="380" alt=""></p>
<p>Once we have our (mostly) unique snowflakes, the rest of the effort
is just taking the well-trodden path towards getting them to each move
slightly differently. We will cover the code and everything in some detail in the next few sections, so roll up your sleeves, get some coffee, and let's get started!</p>
<h2>Deeper Look at How the Effect Works</h2>
<p>Now that we have a very basic understanding of how this effect works, let's
shift gears and focus on how this effect is implemented. Let's start by
looking at our HTML:</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>snowflakeContainer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>snowflake<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>There isn't much going on here. We have one element called <strong>snowflakeContainer</strong>, and it has one child with a class value of <strong>snowflake</strong>. That is the entirety of the HTML we explicitly specify in our document. To turn this HTML into the falling snowflake-like effect that you see, we have to take a look at our JavaScript. That's where a lot of the heavy lifting gets done.</p>
<h3>The Starting Point</h3>
<p>When it comes to our JavaScript, the <span class="inlineCode">setup</span> function is what gets called by our code first:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>enableAnimations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"DOMContentLoaded"</span><span class="token punctuation">,</span> generateSnowflakes<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> setResetFlag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>We first check if animations are enabled. After that, the big thing we do here is listen for two events. When the <strong>DOMContentLoaded</strong> event is fired, we call <span class="inlineCode">generateSnowflakes</span>. If the window is resized, we call <span class="inlineCode">setResetFlag</span>. Of these two events, what happens when our page's DOM has loaded is the most interesting. We will look at that code next.</p>
<h3>Generating the Snowflakes</h3>
<p>A big part of this effect is taking the one snowflake we have defined in our HTML and using it as a template for the many snowflakes we ultimately end up seeing. The code for making this happen lies in the <span class="inlineCode">generateSnowflakes</span> function:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">function</span> <span class="token function">generateSnowflakes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// get our snowflake element from the DOM and store it</span>
  <span class="token keyword">var</span> originalSnowflake <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".snowflake"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// access our snowflake element's parent container</span>
  <span class="token keyword">var</span> snowflakeContainer <span class="token operator">=</span> originalSnowflake<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
  snowflakeContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>

  <span class="token comment">// get our browser's size</span>
  browserWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
  browserHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

  <span class="token comment">// create each individual snowflake</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numberOfSnowflakes<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// clone our original snowflake and add it to snowflakeContainer</span>
    <span class="token keyword">var</span> snowflakeClone <span class="token operator">=</span> originalSnowflake<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    snowflakeContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>snowflakeClone<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// set our snowflake's initial position and related properties</span>
    <span class="token keyword">var</span> initialXPos <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> browserWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> initialYPos <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> browserHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> speed <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">;</span>

    <span class="token comment">// create our Snowflake object</span>
    <span class="token keyword">var</span> snowflakeObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Snowflake</span><span class="token punctuation">(</span>snowflakeClone<span class="token punctuation">,</span>
      speed<span class="token punctuation">,</span>
      initialXPos<span class="token punctuation">,</span>
      initialYPos<span class="token punctuation">)</span><span class="token punctuation">;</span>
    snowflakes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>snowflakeObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// remove the original snowflake because we no longer need it visible</span>
  snowflakeContainer<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>originalSnowflake<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">moveSnowflakes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>This code does a bunch of things:</p>
<ol>
<li>Creates a clone of our snowflake in the DOM</li>
<li>Sets the random initial snowflake position (based on the current viewport size)</li>
<li>Sets the random speed our snowflake will fall in</li>
<li>Stores everything in a JavaScript representation of our snowflake</li>
<li>Kicks off the animation</li>
</ol>
<p>All of these steps are repeated for each snowflake that we create. One output of all this code running is a new <span class="inlineCode">Snowflake</span> object:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">var</span> snowflakeObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Snowflake</span><span class="token punctuation">(</span>snowflakeClone<span class="token punctuation">,</span>
  speed<span class="token punctuation">,</span>
  initialXPos<span class="token punctuation">,</span>
  initialYPos<span class="token punctuation">)</span><span class="token punctuation">;</span>
snowflakes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>snowflakeObject<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>This object not only carries with it a reference to the DOM representation of a snowflake element, it also carries the values for the speed and position that were generated a few lines earlier:</p>
<p><span class="centerImageNoBorder"><img src="./The Falling Snow Effect_files/snowflake_object_300.webp" width="600" height="273" alt=""></span></p>
<p>We'll cover this object in greater detail later, but this <span class="inlineCode">Snowflake</span> object and its associated DOM element make up our snowflake from a code point of view. Getting back to the present, after our snowflake is created, we keep this object around for later use by stashing it away in an array called <span class="inlineCode">snowflakes</span>. All of this happens inside a loop that runs for each snowflake we want as part of the effect.</p>
<p>The last thing that happens in our <span class="inlineCode">generateSnowflakes</span> function is the call to <span class="inlineCode">moveSnowflakes</span> where all of the snowflakes we generated earlier be set to move. We'll find out next.</p>
<h3>The Animation Loop</h3>
<p>In every animation that relies on JavaScript, we have something known as the animation loop that is responsible for running repeatedly and containing any code needed to animate something around. The <span class="inlineCode">moveSnowflakes</span> function is that loop for us:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">function</span> <span class="token function">moveSnowflakes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>enableAnimations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snowflakes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> snowflake <span class="token operator">=</span> snowflakes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      snowflake<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>      
  <span class="token punctuation">}</span>

  <span class="token comment">// Reset the position of all the snowflakes to a new value</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>resetPosition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    browserWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
    browserHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snowflakes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> snowflake <span class="token operator">=</span> snowflakes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

      snowflake<span class="token punctuation">.</span>xPos <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> browserWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
      snowflake<span class="token punctuation">.</span>yPos <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> browserHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    resetPosition <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>moveSnowflakes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>We can see that by looking at the <span class="inlineCode">requestAnimationFrame</span> call at the bottom that will call the <span class="inlineCode">moveSnowflakes</span> function repeatedly. Inside our animation loop, the main thing that happens is our code for updating each of our snowflake:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>enableAnimations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snowflakes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> snowflake <span class="token operator">=</span> snowflakes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    snowflake<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>      
<span class="token punctuation">}</span></code></pre>
<p>We go through every snowflake stored by our <span class="inlineCode">snowflakes</span> array and call the <span class="inlineCode">update</span> method on it. If you were expecting something more fancy, here ain't it. The fancy stuff lives in our <span class="inlineCode">Snowflake</span> code, so let's go there next.</p>
<h3>The Snowflake Implementation</h3>
<p>All of the complexity for making our snowflake animate lives inside the definition for our <span class="inlineCode">Snowflake</span> object. When we first create our snowflakes via the <span class="inlineCode">generateSnowflakes</span> function, this is the code that gets called:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">function</span> <span class="token function">Snowflake</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> xPos<span class="token punctuation">,</span> yPos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// set initial snowflake properties</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> element<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>xPos <span class="token operator">=</span> xPos<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>yPos <span class="token operator">=</span> yPos<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>scale <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token comment">// declare variables used for snowflake's motion</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.5</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token comment">// setting an initial opacity and size for our snowflake</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">.1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>When our snowflake gets created, all we do is store a bunch of properties on it to represent the various characteristics we want it to maintain. Some of the properties we specify as part of creating the snowflake and provide as arguments, but other properties we define for internal use like <span class="inlineCode">counter</span>, <span class="inlineCode">scale</span>, and <span class="inlineCode">sign</span>.</p>
<p>The important detail to keep in mind is that these properties aren't designed to stay still. They start off with the initial values they get when the snowflake is created. When the <span class="inlineCode">update</span> method (that our <span class="inlineCode">moveSnowflakes</span> animation loop calls) runs, these properties change and play a major role in defining how the snowflake moves. The <span class="inlineCode">update</span> method looks as follows:</p>
<pre class=" language-js"><code class=" language-js">Snowflake<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// using some trigonometry to determine our x and y position</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>counter <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">/</span> <span class="token number">5000</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>xPos <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>yPos <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">40</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">/</span> <span class="token number">30</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>scale <span class="token operator">=</span> <span class="token number">.5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// setting our snowflake's position</span>
  <span class="token function">setTransform</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>xPos<span class="token punctuation">)</span><span class="token punctuation">,</span> 
               Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>yPos<span class="token punctuation">)</span><span class="token punctuation">,</span> 
               <span class="token keyword">this</span><span class="token punctuation">.</span>scale<span class="token punctuation">,</span> 
               <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// if snowflake goes below the browser window, move it back to the top</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>yPos <span class="token operator">&gt;</span> browserHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>yPos <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>The bulk of this code helps our snowflakes oscillate as they make their way to the ground. This oscillation is made possible by using the <strong>sin</strong> and <strong>cos</strong> trigonmetric functions along with some numbers that scale up or down the intensity of the movement. The <span class="inlineCode">counter</span> property is incremented here as well, and this rate of incrementing determines how quickly our snowflakes animate. If you are up for it, you can adjust the values and numbers you see here to see how your snowflake's movements will be affected.</p>
<p>All of these numerical changes are still in the JavaScript realm. They are a part of our <span class="inlineCode">Snowflake</span> object, but they don't actually affect the snowflake DOM element we see on the screen. That gap is addressed by our call to the <span class="inlineCode">setTransform</span> function:</p>
<pre class=" language-js"><code class=" language-js"><span class="token function">setTransform</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>xPos<span class="token punctuation">)</span><span class="token punctuation">,</span> 
             Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>yPos<span class="token punctuation">)</span><span class="token punctuation">,</span> 
             <span class="token keyword">this</span><span class="token punctuation">.</span>scale<span class="token punctuation">,</span> 
             <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>We will take a look at what it does next!</p>
<h3>Setting our Snowflake's Position and Size</h3>
<p>The <span class="inlineCode">setTransform</span> function takes all the calculations made by our snowflake's <span class="inlineCode">update</span> method and translates them into the position and size values that we ultimately see:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">function</span> <span class="token function">setTransform</span><span class="token punctuation">(</span>xPos<span class="token punctuation">,</span> yPos<span class="token punctuation">,</span> scale<span class="token punctuation">,</span> el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token string">`translate3d(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>xPos<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>yPos<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, 0) scale(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>The way this we do this is by setting the <span class="inlineCode">transform</span> property on the DOM element that represents each snowflake. We set both the <strong>translate3d</strong> function to <a href="https://www.kirupa.com/html5/animating_movement_smoothly_using_css.htm" class="blueEmphasis">performantly adjust</a> the horizontal and vertical position, and we also set the <strong>scale</strong> function to adjust how big or small the snowflake is as it is falling down. <strong>Once this line of code has executed, one frame of our animation is complete with our snowflake having moved ever so slightly towards the ground.</strong></p>
<h4>Accessibility and Animations</h4>
<p>Throughout our code, you may have seen us checking the value of an <span class="inlineCode">enableAnimations</span> property. This property's value corresponds to whether the user has disabled animations as part of an accessibility setting. The <a href="https://www.kirupa.com/html5/toggling_animations_on_off.htm" class="blueEmphasis">Toggling Animations On and Off</a> tutorial goes into more detail on this, but there are users who, when seeing animations like our falling snow, can get sick or nauseus. There is an accessibility setting most operating systems provide to let users reduce the animations they see across everything they do, and we can respect that setting as part of animations we create.</p>
<p>The code that sets <span class="inlineCode">enableAnimations</span> looks as follows:</p>
<pre class=" language-js"><code class=" language-js"><span class="token comment">// Handle accessibility</span>
<span class="token keyword">var</span> enableAnimations <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reduceMotionQuery <span class="token operator">=</span> <span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">"(prefers-reduced-motion)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Handle animation accessibility preferences </span>
<span class="token keyword">function</span> <span class="token function">setAccessibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>reduceMotionQuery<span class="token punctuation">.</span>matches<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    enableAnimations <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
    enableAnimations <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">setAccessibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

reduceMotionQuery<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>setAccessibilityState<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>The system accessibility preference for reducing animation is represented by the <strong>prefers-reduced-motion</strong> media query feature. What we do here is poll for that feature's value and set the <span class="inlineCode">enableAnimations</span> property to specify whether we play the falling snow animation or we don't.</p>
<div class="callout">
<h4>Constrain the Falling Snow to a Particular Region</h4>
<p>Our falling snow effect currently goes over the entire page. You
may not want that. You may just want the snow effect to appear over
just a particular region - like an image, a banner, etc. To learn
how to modify this effect to achieve that, check out
<a class="blueEmphasis" href="http://www.krilnon.com/" target="_blank">
Kyle Murray</a>'s excellent
<a class="blueEmphasis" href="https://www.kirupa.com/html5/constraining_the_falling_snow_effect.htm">
Constraining the Falling Snow Effect</a> tutorial.</p>
</div>
<h2>Conclusion</h2>
<p>So, there you have it - a look at how HTML, CSS, and JavaScript come
together to create the animated falling snow effect that you see. If
you've been following the <a href="https://www.kirupa.com/html5/learn_animation.htm" class="blueEmphasis">animation tutorials on this site</a>, most of what
you saw here should have been a review. What isn't a review is how everything comes together to create the final effect that you see. That is always the most fun as well as the most tricky part of combining all of the various individual tips and techniques we tend to go deep on. If you do want to go deep on any subtopic this effect exposes, read the following tutorials: <a href="https://www.kirupa.com/html5/creating_dom_elements_and_other_stuff.htm" class="blueEmphasis">Creating, Removing, and Cloning Elements</a>, <a href="https://www.kirupa.com/html5/animating_with_requestAnimationFrame.htm" class="blueEmphasis">Animating with requestAnimationFrame</a>, <a href="https://www.kirupa.com/html5/animating_many_things_on_a_canvas.htm" class="blueEmphasis">Animating Many Things</a>, <a href="https://www.kirupa.com/html5/toggling_animations_on_off.htm" class="blueEmphasis">Toggling Animations On and Off</a>, <a href="https://www.kirupa.com/html5/running_your_code_at_the_right_time.htm" class="blueEmphasis">Running Your Code at the Right Time</a>, <a href="https://www.kirupa.com/html5/random_numbers_js.htm" class="blueEmphasis">Generating Random Numbers</a>, <a href="https://www.kirupa.com/html5/animating_movement_smoothly_using_css.htm" class="blueEmphasis">Animating Movement Smoothly Using CSS</a>, <a href="https://www.kirupa.com/html5/a_deeper_look_at_objects_in_javascript.htm" class="blueEmphasis">A Deeper Look at Objects</a>, <a href="https://www.kirupa.com/html5/introduction_to_easing_in_javascript.htm" class="blueEmphasis">Introduction to Easing</a>, and a few more!</p>
<p>
</p><p>If you have a question about this or any other topic, the easiest thing is to comment below or drop by <a class="blueEmphasis" href="http://forum.kirupa.com/">our forums</a> where a bunch of the friendliest people you'll ever run into will be happy to help you out!</p>
<div id="bookPromo" style="display:none">
<h3>Did You Like This?</h3>
<div id="js101Signature" style="display: none">
<ul>
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;js101MoreInfo_Signature&#39;, &#39;clicked&#39;])" href="http://www.quepublishing.com/store/javascript-absolute-beginners-guide-9780789758064">MORE INFO</a></li>
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;js101BuyNow_Signature&#39;, &#39;clicked&#39;])" href="https://www.amazon.com/exec/obidos/ASIN/0789758067/kirupacom">BUY NOW</a></li>
</ul>
</div>
<div id="animationSignature" style="display: none">
<ul>
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;animationMoreInfo_Signature&#39;, &#39;clicked&#39;])" href="https://www.kirupa.com/book/animation_in_html_css_and_javascript.htm">MORE INFO</a></li>
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;animationBuyNow_Signature&#39;, &#39;clicked&#39;])" href="http://www.amazon.com/dp/1502548704?_encoding=UTF8&amp;camp=15041&amp;creative=373501&amp;linkCode=as3&amp;tag=kirupacom">BUY NOW</a></li>
</ul>
</div>
<div id="canvasSignature" style="display: none">
<ul>
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;canvasMoreInfo_Signature&#39;, &#39;clicked&#39;])" href="https://www.kirupa.com/book/html5_canvas_noob_to_ninja.htm">MORE INFO</a></li>
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;canvasBuyNow_Signature&#39;, &#39;clicked&#39;])" href="http://www.amazon.com/gp/product/1523978090?redirect=true&amp;tag=kirupacom">BUY NOW</a></li>
</ul>
</div>
<div id="reactSignature">
<ul>
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;reactMoreInfo_Signature&#39;, &#39;clicked&#39;])" href="http://www.informit.com/store/learning-react-a-hands-on-guide-to-building-maintainable-9780134546315">MORE INFO</a></li>
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;reactBuyNow_Signature&#39;, &#39;clicked&#39;])" href="https://www.amazon.com/exec/obidos/ASIN/0134546318/kirupacom">BUY NOW</a></li>
</ul>
</div>
</div>
<p><a href="https://www.kirupa.com/about/whatiskirupa.htm"><img src="./The Falling Snow Effect_files/kirupa_sig.webp" width="150" height="65" alt=""></a> </p>
<div id="sigNewsletter">
<h4>THE KIRUPA NEWSLETTER</h4>
<p>Get cool tips, tricks, <span class="strikethrough">selfies</span>, and more...personally hand-delivered to your inbox!</p>
<form action="https://kirupa.us7.list-manage.com/subscribe/post?u=b0d69bc8873ebf34032eb7796&amp;id=47036a7bd4" class="validate" id="mc-embedded-subscribe-form" method="post" name="mc-embedded-subscribe-form" novalidate="" target="_blank">
<div id="mc_embed_signup_scroll">
<p><input class="email" id="mce-EMAIL" name="EMAIL" placeholder="email address" required="" type="email" value=""><input class="button" id="mc-embedded-subscribe" name="subscribe" type="submit" value="SIGN ME UP"> </p>
<p>
</p>
<div style="position: absolute; left: -5000px;">
<input name="b_b0d69bc8873ebf34032eb7796_47036a7bd4" tabindex="-1" type="text" value="">
</div>
<div class="clear">
</div>
</div>
</form>
<p class="smallText">( <a class="blueEmphasis" href="http://us7.campaign-archive1.com/home/?u=b0d69bc8873ebf34032eb7796&amp;id=47036a7bd4">View past issues</a> for an idea of what you've been missing out on all this time! )</p>
</div>
<p> </p>
<h2 id="pageComments">WHAT'S ON YOUR MIND</h2>
<div id="pageCommentsImage">
<img src="./The Falling Snow Effect_files/green_square.svg">
</div>
<div id="oldComments">
<div id="discourse-comments"><iframe src="./The Falling Snow Effect_files/comments.html" id="discourse-embed-frame" width="100%" frameborder="0" scrolling="no" height="17302px"></iframe></div>
<script type="text/javascript">
			  DiscourseEmbed = { discourseUrl: 'https://forum.kirupa.com/',
								 discourseEmbedUrl: "https://www.kirupa.com" + window.location.pathname.split("?")[0].split("#")[0] };

			  (function() {
				var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
				d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
				(document.getElementsByTagName('title')[0] || document.getElementsByTagName('title')[0]).appendChild(d);
			  })();
			</script>
</div>
<p></p>
</div>
<div id="rightContents">
<style>
    #outerContainer {

    }
    #forumListing {
      width: 250px;
      padding: 0;
      margin: 0;
      margin-top: 30px;
    }
    
    #forumListing li {
      list-style: none;
    }
    #forumListing li p {
      line-height: 20px;
      margin-left: -10px;
    }
    #forumListing li a {
      color: #222;
      font-size: 14px;
      padding: 5px;
      padding-left: 40px;
      display: inline-block;
      
      background-image: url("https://www.kirupa.com/icon/1f354.svg");
      background-repeat: no-repeat;
      background-size: 20px;
      background-position: 10px 3px;
    }
    #forumListing li a:hover {
      text-decoration: underline;
    }
    #forumListing li p:hover {
      background-color: #FAFAFA;
    }
  </style>
<div id="bookBannerContent">
<ul>
<li class="learningReactRight">
<a href="https://www.amazon.com/exec/obidos/ASIN/013484355X/kirupacom"><strong>Learning React:</strong><br>
<span class="lessemphasis">A Hands-on Guide</span></a>
<ul class="buyNowRight">
<li>
<a href="https://www.amazon.com/exec/obidos/ASIN/013484355X/kirupacom">BUY</a></li>
</ul>
</li>
<li class="animationRight">
<a href="http://shop.oreilly.com/product/0636920050858.do" target="_blank"><strong>Creating</strong><span class="lessemphasis"> Web Animations</span></a>
<ul class="buyNowRight">
<li>
<a href="https://www.amazon.com/exec/obidos/ASIN/1491957514/kirupacom" target="_blank">BUY</a></li>
</ul>
</li>
<li class="js101Right">
<a href="http://www.quepublishing.com/store/javascript-absolute-beginners-guide-9780789758064"><strong>JavaScript</strong> <span class="lessemphasis">Absolute Beginner's Guide</span></a>
<ul class="buyNowRight">
<li>
<a href="https://www.amazon.com/exec/obidos/ASIN/0789758067/kirupacom">BUY</a></li>
</ul>
</li>
</ul>
<img alt="new books - yay!!!" height="66" src="./The Falling Snow Effect_files/caption_books.webp" width="165">
</div>
<div id="rightNewsletter">
<h4>HOT FORUM TOPICS</h4>
<div id="outerContainer">
<ul id="forumListing">

<li>
<p>
<a href="https://forum.kirupa.com/t/kirupa-is-faster-and-lighter-than-ever/636280" style="background-image: url(&quot;https://www.kirupa.com/icon/1f5e8.svg&quot;);">KIRUPA is faster and lighter than ever!</a>
</p>
</li>

<li>
<p>
<a href="https://forum.kirupa.com/t/wordpress-plugin-revslider-issue-to-update-the-php-version/640885" style="background-image: url(&quot;https://www.kirupa.com/icon/1f4dd.svg&quot;);">Wordpress plugin revslider issue to update the PHP Version</a>
</p>
</li>

<li>
<p>
<a href="https://forum.kirupa.com/t/earliest-video-games-you-played/639686" style="background-image: url(&quot;https://www.kirupa.com/icon/1f5e8.svg&quot;);">Earliest video games you played?</a>
</p>
</li>

<li>
<p>
<a href="https://forum.kirupa.com/t/research-survey-in-web-development/640877" style="background-image: url(&quot;https://www.kirupa.com/icon/1f4dd.svg&quot;);">Research survey in web development</a>
</p>
</li>

<li>
<p>
<a href="https://forum.kirupa.com/t/who-all-has-a-pet/640083" style="background-image: url(&quot;https://www.kirupa.com/icon/1f5e8.svg&quot;);">Who all has a pet?</a>
</p>
</li>

<li>
<p>
<a href="https://forum.kirupa.com/t/accessing-your-webcam-in-html5/352092" style="background-image: url(&quot;https://www.kirupa.com/icon/1f4ac.svg&quot;);">Accessing Your Webcam in HTML5</a>
</p>
</li>

<li>
<p>
<a href="https://forum.kirupa.com/t/konami-code-in-javascript/640851" style="background-image: url(&quot;https://www.kirupa.com/icon/1f4dd.svg&quot;);">Konami Code in JavaScript</a>
</p>
</li>
</ul>
</div>
<template id="topicRow"></template>
<script>
    
    fetch('https://forum.kirupa.com/latest.json')
      .then(function(response) {
        return response.json();
      })
      .then(function(jsonData) {
        processResults(jsonData);
      });

      var topicArray = [];

      function processResults(input) {
        //console.log(input);

        var topicList = input.topic_list.topics;

        for (var i = 0; i < 7; i++) {
          var topic = topicList[i];

          if (topic.pinned == false) {
            topicArray.push({
              title: topic.title,
              count: topic.posts_count,
              category: topic.category_id,
              urlFrag: topic.slug + "/" + topic.id
            });
          }
        }

        //console.log(topicArray);

        createDOM();
      }

      function createDOM() {
        // 38 -> flash/as -> flash.svg
        // 43 -> jobs -> 26f3.svg (golf)
        // 36 -> random -> 1f379.svg (orange)
        // 3 -> meta -> 1f441.svg
        // 41 -> programming -> 1f4be.svg (disk)
        // 42 -> web dev -> 1f431.svg (cat)
        // other -> unknown -> 1f354.svg
        // other
        var forumParent = document.querySelector("#forumListing");
        var t = document.querySelector("#topicRow");

        for (var i = 0; i < topicArray.length; i++) {
          var topic = topicArray[i];

          var clone = document.importNode(t.content, true);

          // set the link
          var topicLink = clone.querySelector("a");
          topicLink.textContent = topic.title;
          topicLink.setAttribute("href", "https://forum.kirupa.com/t/" + topic.urlFrag);

          // set the icon
          var category = topic.category;
          var icon = "https://www.kirupa.com/icon/";

          switch(category) {
            case 38:
                icon += "1f525.svg";
                break;
            case 43:
                icon += "1f4b0.svg";
                break;
            case 41:
                icon += "1f4ac.svg";
                break;
            case 39:
                icon += "1f3a8.svg";
                break;
            case 42:
                icon += "1f4dd.svg";
                break;
            case 36:
                icon += "1f5e8.svg";
                break;
             case 3:
                icon += "1f5fa.svg";
                break;
            default:
              icon += "1f4dd.svg"
              break;
          }

          topicLink.style.backgroundImage = "url(" + icon + ")";

          forumParent.appendChild(clone);
        }
      }

    </script>
</div>
</div>
</div>
<div id="mainFooter">
<div class="footerContents">
<div class="leftFooter">
<p>Serving you freshly baked content since 1998!</p>
<p><a href="https://mediatemple.net/" target="_blank">Killer hosting by (mt) mediatemple</a></p>
</div>
<div class="rightFooter"> <a href="https://www.facebook.com/kirupa" target="_blank"><img src="./The Falling Snow Effect_files/fb_svg.svg" alt="Facebook"></a>
<a href="https://www.twitter.com/kirupa" target="_blank"><img src="./The Falling Snow Effect_files/twitter_svg.svg" alt="Twitter"></a>
<a href="https://www.youtube.com/user/kirupa" target="_blank"><img src="./The Falling Snow Effect_files/youtube.svg" alt="Youtube"></a>
<a href="https://www.pinterest.com/kirupa/" target="_blank"><img src="./The Falling Snow Effect_files/pinterest.svg" alt="Pinterest"></a>
<a href="https://www.instagram.com/kirupac/" target="_blank"><img src="./The Falling Snow Effect_files/instagram.svg" alt="Instagram"></a>
<a href="https://github.com/kirupa/kirupa" target="_blank"><img src="./The Falling Snow Effect_files/github.svg" alt="Github"></a>
</div>
</div>
</div>
<div id="mobileFooter">
<div id="topFooter"><a href="https://www.kirupa.com/html5/the_falling_snow_effect.htm#">BACK TO TOP</a></div>
<div id="bookBannerContent">
<ul>
<li class="canvasRight">
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;canvasMoreInfo&#39;, &#39;clicked&#39;])" href="https://www.kirupa.com/book/html5_canvas_noob_to_ninja.htm">HTML5 Canvas: From Noob to Ninja</a>
<ul class="buyNowRight">
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;canvasBuyNow&#39;, &#39;clicked&#39;])" href="http://www.amazon.com/gp/product/1523978090?redirect=true&amp;tag=kirupacom">BUY NOW</a></li>
</ul>
</li>
<li class="animationRight">
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;animationMoreInfo&#39;, &#39;clicked&#39;])" href="https://www.kirupa.com/book/animation_in_html_css_and_javascript.htm">Animation in HTML, CSS, and JavaScript</a>
<ul class="buyNowRight">
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;animationBuyNow&#39;, &#39;clicked&#39;])" href="http://www.amazon.com/dp/1502548704?_encoding=UTF8&amp;camp=15041&amp;creative=373501&amp;linkCode=as3&amp;tag=kirupacom" target="_blank">BUY NOW</a></li>
</ul>
</li>
<li class="js101Right">
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;js101MoreInfo&#39;, &#39;clicked&#39;])" href="http://www.quepublishing.com/store/javascript-absolute-beginners-guide-9780789758064">JavaScript: Absolute Beginner's Guide</a>
<ul class="buyNowRight">
<li>
<a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;js101BuyNow&#39;, &#39;clicked&#39;])" href="https://www.amazon.com/exec/obidos/ASIN/0789758067/kirupacom">BUY NOW</a></li>
</ul>
</li>
</ul>
<img alt="new books - yay!!!" height="66" src="./The Falling Snow Effect_files/caption_books.webp" width="165">
</div>
<div id="bottomLinks">
<h3>Copyright 2018 Kirupa, Inc.</h3>
</div>
</div>
<script async="" src="./The Falling Snow Effect_files/kirupa.js.download"></script>
<link href="./The Falling Snow Effect_files/shCore.css" rel="stylesheet" type="text/css">
<link href="./The Falling Snow Effect_files/shThemeDefault.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="./The Falling Snow Effect_files/shCore.js.download"></script>
<script type="text/javascript" src="./The Falling Snow Effect_files/shBrushJScript.js.download"></script>
<script type="text/javascript" src="./The Falling Snow Effect_files/shBrushXml.js.download"></script>
<script type="text/javascript" src="./The Falling Snow Effect_files/shBrushCss.js.download"></script>

<script type="text/javascript">
	 SyntaxHighlighter.defaults['gutter'] = false;
	 SyntaxHighlighter.defaults['toolbar'] = false;
	 SyntaxHighlighter.defaults['class-name'] = 'kirupa_code';
   SyntaxHighlighter.all();
</script>
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('/service-worker.js');
    });
  }
</script>
<link href="./The Falling Snow Effect_files/prism_v1.css" rel="stylesheet">
<script src="./The Falling Snow Effect_files/prism_v1.js.download"></script>

</body></html>